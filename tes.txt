let GetAllcontacts = JSON.parse(localStorage.getItem("contacts")) || {};
let lastId = 0;

console.log(GetAllcontacts);

function addData(event) {
  event.preventDefault();

  let group = document.getElementById("group").value;
  let id = addId(group) + 1;

  let username = document.getElementById("username").value;
  let email = document.getElementById("email").value;
  let number = document.getElementById("number").value;

  if (!GetAllcontacts[group]) {
    GetAllcontacts[group] = [];
  }

  GetAllcontacts[group].push({ id, username, email, number, group });

  localStorage.setItem("contacts", JSON.stringify(GetAllcontacts));

  window.location.reload();
}

function addId(group) {
  let filterGroup = GetAllcontacts[group] || [];

  if (filterGroup.length > 0) {
    let lastContact = filterGroup.at(-1).id;
    return Number(lastContact);
  } else {
    return 0;
  }
}

// localStorage.clear()







// document.getElementById("formData").addEventListener("submit", function () {
//   let group = document.getElementById("group").value;

//   console.log(GetAllcontacts[group]);
// });

// function updateGroup(event) {
//   event.preventDefault();
//   group = document.getElementById("group").value; // Update nilai dari select
//   console.log("Grup dipilih:", group);
// }

// Logika Tambah data

// -Ambil data dari inputan
// -masukkan kedalam let bungkus pakai array
// -ambil seluruh data dengan tujuan untuk simpan data karna ketika kita tambahkan lagi data lama akan hilang
//  dari data yang sudah kita ambil dan tampung didalam variable.
// - kita push hasil inputan kedalam variable select data sementara dengan tujuan akan kita push uang

// Logika addID

// - karna kita sudah tampung datanya kedalam variable GetAllcontacts
// - ketika  if (GetAllcontacts.length > 0) {  berarti sudah ada isinya akan jalankan logika untuk ambil id terakhir nya
//  dengan tujuan untuk kirim ke fungsi addData + 1
// - pada blok kode if  kita ambil .at(-1) berarti kita ambil array terakhir lalu kita [0]  dengan arti ambil value pertama.
// - setelah itu kita inisialisasi dari variable lastContact kedalam GetlastId
// - karna GetlastId sudah punya data yaitu id terakhir dari kontak maka kita return datanya agar ketika sebuah fungsi fi panggil
//   sudah mempunyai data.

// Logika untuk grouping data
